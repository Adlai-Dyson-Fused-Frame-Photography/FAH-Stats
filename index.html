<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Team Stats | Adlai Dyson | Fused Frame Photography</title>
    <meta name="description" content="Official Folding@home statistics for the Adlai Dyson | Fused Frame Photography team. Tracking our contribution to global medical research." />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="https://cdn-eu.fusedframe.co.uk/main-logos/jpg/squarefavicon-nocircle.jpg" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .accent-text { color: #94fdf8; }
        .accent-bg { background-color: #94fdf8; }
        .border-glow { border-color: rgba(148, 253, 248, 0.1); }
    </style>
</head>

<body class="bg-slate-950 text-slate-100 min-h-screen flex flex-col font-sans">

    <header class="py-8 flex justify-center">
        <img src="https://cdn-eu.fusedframe.co.uk/main-logos/png/squarelogo-light-crop.png" 
             alt="Fused Frame Logo"
             class="max-w-[180px] md:max-w-[220px] transition-transform hover:scale-105 duration-300" />
    </header>

    <main class="flex-grow max-w-5xl mx-auto px-6 pb-12">
        <div class="text-center mb-12">
            <h1 class="text-3xl md:text-5xl font-extrabold tracking-tight mb-4">
                Team Statistics
            </h1>
            <p class="text-lg text-slate-400 font-medium">
                Adlai Dyson | Fused Frame Photography
            </p>
        </div>

        <!-- ENHANCED ABOUT SECTION -->
        <div class="bg-slate-900/50 border border-slate-800 rounded-2xl p-8 mb-10 backdrop-blur-sm">
            <div class="flex flex-col md:flex-row gap-8 items-start">
                <div class="flex-1">
                    <h2 class="text-2xl font-bold mb-4 accent-text">The Mission: Decoding Biology</h2>
                    <p class="text-slate-300 leading-relaxed mb-4">
                        Folding@home is a distributed computing powerhouse dedicated to simulating <strong>protein dynamics</strong>. Proteins are the "workhorses" of biology; when they misfold, it leads to devastating diseases like Alzheimer’s, ALS, Parkinson’s, and Cancer.
                    </p>
                    <p class="text-slate-400 text-sm leading-relaxed">
                        By pooling our computing resources, we provide scientists at the world's leading laboratories with the computational power required to simulate these complex biological processes, accelerating the path toward new treatments and cures.
                    </p>
                </div>
                <div class="bg-slate-800/50 p-4 rounded-xl border border-slate-700 w-full md:w-64 text-center">
                    <span class="text-xs uppercase tracking-widest text-slate-500 font-bold">Team Identity</span>
                    <div class="text-3xl font-mono mt-2 accent-text">1067814</div>
                    <div class="text-[10px] text-slate-500 mt-1">OFFICIAL TEAM ID</div>
                </div>
            </div>
        </div>

        <!-- STATS GRID -->
        <section class="grid md:grid-cols-2 gap-6">

            <!-- TEAM CONTRIBUTION -->
            <div class="bg-slate-900 border border-slate-800 rounded-2xl p-8 hover:border-slate-700 transition-colors">
                <h3 class="font-bold text-xl mb-6 flex items-center gap-2">
                    Team Impact
                </h3>

                <div class="space-y-4">
                    <div class="flex justify-between items-center border-b border-slate-800 pb-3">
                        <span class="text-slate-400">Total Points</span>
                        <span id="points" class="accent-text font-bold text-lg text-right">Loading…</span>
                    </div>
                    <div class="flex justify-between items-center border-b border-slate-800 pb-3">
                        <span class="text-slate-400">Work Units Completed</span>
                        <span id="wus" class="accent-text font-bold text-lg text-right">Loading…</span>
                    </div>
                    <div class="flex justify-between items-center border-b border-slate-800 pb-3">
                        <span class="text-slate-400">Global Team Rank</span>
                        <span id="rank" class="accent-text font-bold text-lg text-right">Loading…</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-slate-400">Active Contributors</span>
                        <span id="members" class="accent-text font-bold text-lg text-right">Loading…</span>
                    </div>
                </div>
            </div>

            <!-- LIVE STATUS & PROGRESS -->
            <div class="bg-slate-900 border border-slate-800 rounded-2xl p-8">
                <h3 class="font-bold text-xl mb-6">Real-Time Progress</h3>
                
                <div class="flex items-center gap-3 mb-6">
                    <div class="relative flex h-3 w-3">
                        <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-cyan-400 opacity-75"></span>
                        <span class="relative inline-flex rounded-full h-3 w-3 bg-cyan-500"></span>
                    </div>
                    <span class="text-sm text-slate-400">Live API Feed: <span id="updated" class="accent-text font-mono">Syncing...</span></span>
                </div>

                <!-- MILESTONE -->
                <div class="mt-8">
                    <div class="flex justify-between text-sm mb-2">
                        <span class="text-slate-400">Next Team Milestone</span>
                        <span id="milestoneLabel" class="accent-text font-medium">...</span>
                    </div>
                    <div class="w-full bg-slate-800 rounded-full h-4 p-1 overflow-hidden shadow-inner">
                        <div id="milestoneBar" 
                             class="accent-bg h-full rounded-full transition-all duration-1000 ease-out shadow-[0_0_15px_rgba(148,253,248,0.5)]" 
                             style="width:0%">
                        </div>
                    </div>
                    <p class="mt-4 text-xs text-slate-500 italic leading-relaxed">
                        Stats refresh every 60 seconds. Our progress is calculated based on the cumulative points of all team members.
                    </p>
                </div>
            </div>
        </section>

        <!-- CTA -->
        <div class="bg-gradient-to-r from-slate-900 to-slate-800 border border-slate-700 rounded-2xl p-10 mt-10 text-center shadow-2xl">
            <h4 class="text-xl font-bold mb-2">Join Our Research Effort</h4>
            <p class="text-slate-400 text-sm max-w-lg mx-auto">
                Turn your computer's idle time into scientific discovery. Join Team <strong>1067814</strong> to fold with us.
            </p>
            <a href="https://foldingathome.org/start-folding/" 
               target="_blank" 
               class="inline-block mt-6 px-8 py-3 rounded-full accent-bg text-slate-900 font-bold hover:scale-105 active:scale-95 transition-all shadow-lg hover:shadow-cyan-500/20">
                Start Folding Today →
            </a>
        </div>
    </main>

    <footer class="mt-auto py-8 text-center text-sm text-slate-500 border-t border-slate-900">
        <p>© Adlai Dyson | Fused Frame Photography</p>
        <p class="mt-1 opacity-50">Data provided by the Folding@home Public API</p>
    </footer>

    <script>
        const TEAM_ID = "1067814";
        const API_URL = `https://api.foldingathome.org/team/${TEAM_ID}`;

        function getNextMilestone(points) {
            // Team milestones often go much higher than individual ones
            const milestones = [
                100000, 250000, 500000, 1000000, 2500000, 5000000, 
                10000000, 25000000, 50000000, 100000000, 500000000
            ];
            return milestones.find(m => m > points) || points * 1.5;
        }

        async function loadStats() {
            try {
                const res = await fetch(API_URL);
                if (!res.ok) throw new Error("API Offline");
                
                const data = await res.json();
                
                // Update basic stats
                // Note: API returns 'score' for team total points
                document.getElementById("points").innerText = data.score.toLocaleString();
                document.getElementById("wus").innerText = data.wus.toLocaleString();
                document.getElementById("rank").innerText = "#" + (data.rank ? data.rank.toLocaleString() : "Unranked");
                
                // Members count (if available in the array)
                const memberCount = data.donors ? data.donors.length : "0";
                document.getElementById("members").innerText = memberCount;

                // Timestamp
                document.getElementById("updated").innerText = new Date().toLocaleTimeString();

                // Progress Bar Logic
                const next = getNextMilestone(data.score);
                const percent = (data.score / next) * 100;
                
                document.getElementById("milestoneBar").style.width = Math.min(percent, 100) + "%";
                document.getElementById("milestoneLabel").innerText = next.toLocaleString() + " Points";

            } catch (error) {
                console.error("Stats Error:", error);
                document.getElementById("updated").innerText = "Connection Error";
                document.getElementById("updated").classList.add("text-red-400");
            }
        }

        // Initialize and setup interval
        loadStats();
        setInterval(loadStats, 60000);
    </script>
</body>
</html>